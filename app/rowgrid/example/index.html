<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>UserStudy - Sankey</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../css/index_style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/checkbox.css">
  <link rel="stylesheet" href="../css/fix-nav.css">

  <!--<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>-->
  <script src="../js/jquery.min.js"></script>
  <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/json_data.js"></script>
  <script src="../jquery.row-grid.js"></script>
  <script src="../js/index.js"></script>
  <script src="../js/json_read.js"></script>
  <script src="../js/sort_json2.js"></script>
  <!--<script src="../js/fix-nav.js"></script>-->
</head>
<body style="background-color:#f8f8f8">
   <nav class="navbar navbar-default navbar-fixed-top" id="header">
        <div class="container-fluid navbar-container" id="header-container">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">User History</a>
          </div>
           <ul class="nav navbar-nav">
              <li class="active"><a href="#" id="session_or_unit">Unit Sankey</a></li>
               <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Color_Info<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><img src="../image/color_explain.PNG"></li>
                </ul>
              </li>
              <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Color_Info2<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><img src="../image/color_explain2.PNG"></li>
                </ul>
              </li>
             <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#" id="unit_nav_group">Group<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#" onclick="showSankeyImage('all',0,'unit_all');loadJSON();loadJSON2();" >All  <span id="unit_all"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></a></li>
                  <li><a href="#" onclick="showSankeyImage('A',0,'unit_A');loadJSON();loadJSON2();">A (No history, No branch)  <span id="unit_A"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage('B',0,'unit_B');loadJSON();loadJSON2();">B (Yes branch)  <span id="unit_B"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage('C',0,'unit_C');loadJSON();loadJSON2();">C (No history, Yes branch)  <span id="unit_C"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage('D',0,'unit_D');loadJSON();loadJSON2();">D (Yes history, Yes branch)  <span id="unit_D"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage('E',0,'unit_E');loadJSON();loadJSON2();">E (Session branch)  <span id="unit_E"></span></a></li>
                </ul>
              </li>
             <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#" id="unit_nav_prob">Problem<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#" onclick="showSankeyImage(0,'all','unit_pall');loadJSON();loadJSON2();">All  <span id="unit_pall"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></a></li>
                  <li><a href="#" onclick="showSankeyImage(0,1,'unit_prob1');loadJSON();loadJSON2();">Problem 1  <span id="unit_prob1"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage(0,2,'unit_prob2');loadJSON();loadJSON2();">Problem 2  <span id="unit_prob2"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage(0,3,'unit_prob3');loadJSON();loadJSON2();">Problem 3  <span id="unit_prob3"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage(0,4,'unit_prob4');loadJSON();loadJSON2();">Problem 4  <span id="unit_prob4"></span></a></li>
                  <li><a href="#" onclick="showSankeyImage(0,5,'unit_prob5');loadJSON();loadJSON2();">Problem 5  <span id="unit_prob5"></span></a></li>
                </ul>
              </li>
            </ul>
           <ul class="nav navbar-nav navbar-right">
             <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Additional_Info<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><img src="../image/add_Info.PNG"></li>
                </ul>
              </li>
              <li>
              <!--<a href="./sessionIndex.html" class="w3-button w3-teal">-->
                  <a href="#" onclick="pageMove();" class="w3-button w3-teal">
                  <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
                  Session sankey
                </a>
              </li>
           </ul>
        </div>
    </nav>
    <div class="container-fluid" style="margin-top:-15px;">
     <div class="tag_chk_set">
         <span class="w3-tag w3-large" style="background-color: #ca0020">Accuracy</span>&nbsp;&nbsp;&nbsp;
         <!--<input type="checkbox" id="Accuracy_asc" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>-->
       <input type="checkbox" id="Accuracy_asc" onclick=""/>
         <label for="Accuracy_asc"><span></span>O</label>
         <!--<input type="checkbox" id="Accuracy_des" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>-->
       <input type="checkbox" id="Accuracy_des" onclick=""/>
         <label for="Accuracy_des"><span></span>X</label>
     </div>
     <div class="tag_chk_set">
         <span class="w3-tag w3-large" style="background-color: #92c5de">Interaction(=log)</span>&nbsp;&nbsp;&nbsp;
         <input type="checkbox" id="Interaction_asc" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>
         <label for="Interaction_asc"><span></span>asc (+)</label>
         <input type="checkbox" id="Interaction_des" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>
         <label for="Interaction_des"><span></span>des (-)</label>
     </div>
     <div class="tag_chk_set">
         <span class="w3-tag w3-large" style="background-color: #0571b0">Branch</span>&nbsp;&nbsp;&nbsp;
         <input type="checkbox" id="Branch_asc" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>
         <label for="Branch_asc"><span></span>asc (+)</label>
         <input type="checkbox" id="Branch_des" onclick="handleChk(this.id);showSankeyImage(curr_group,curr_prob,null);loadJSON();loadJSON2();"/>
         <label for="Branch_des"><span></span>des (-)</label>
     </div>
   </div>
  <!-- Items with example images -->
  <div class="container-fluid" id="next"></div>
  <div id="gotop"></div>
  <script src="../js/jquery.gotop.js"></script>
  <script>
    $('#gotop').gotop({
      customHtml: '<i class="fa fa-angle-up fa-2x"></i>',
      bottom: '2em',
      right: '2em'
    });
  </script>
</body>
</html>
<!--
<script>
   //오류 있음. 이미지 아래에 표시한 유저이름등이 사라짐.
   $(document).ready(function(){
      /* Start rowGrid.js */
      $(".container-fluid").rowGrid({itemSelector: ".item", minMargin: 10, maxMargin: 25, firstItemClass: "first-item"});

    });
   //맞는 경로에 파일이 있는 지 없는지 검사하는 방법.
           var files = new Image;
          files.src="../SANKEY_GROUP_A/A9/experiment/Problem%203/10.PNG";
          if(!files.complete){
              alert('없다 파일이!');
          }else{
              alert('있다 파일이!');
          }
          //div등의 element를 붙이는 방법
         var yy=document.createElement("div");
         yy.setAttribute("style","float: left;width:auto");

         var y= document.createElement("div");
         y.setAttribute("class","w3-card-2");

         var x = document.createElement("IMG");
         x.setAttribute("src", relDirname);
         x.setAttribute("class","w3-border");
         x.setAttribute("alt", "The Pulpit Rock");

         var z = document.createElement("div");
         z.innerHTML = relDirname.substring(relDirname.indexOf('sankey')+7,relDirname.indexOf('sankey')+9);

         y.appendChild(x);
         y.appendChild(z);

          yy.appendChild(y);
          document.getElementById('imagepanel').appendChild(yy);
         document.body.appendChild(x);
         var show_session_or_unit = function(){
       $('#session_or_unit').text('Unit sankey');
    }
  /* function  showSankeyImage(option1,option2,clickEvent){
        $('#next').html('');
        //option1 검사
        var show_arr=[];
        if(option1=='all'||option1==null){show_arr=user_arrA.concat(user_arrB);curr_group_continue=2;}
        else if(option1=='A'){ show_arr=user_arrA; curr_group_continue=1;}
        else if(option2=='B'){ show_arr=user_arrB; curr_group_continue=0;}
        else{ show_arr=(curr_group_continue==0)?user_arrB:(curr_group_continue==1)?user_arrA:user_arrA.concat(user_arrB);}

        //option2 검사
        if(option2=='all'||option2==null){ prob_num=6;curr_prob=6; }
        else if(option2=0){prob_num=curr_prob;}
        else {prob_num=option2; curr_prob=option2;}

        for(var g=0;g<group_arr.length;g++){
           for(var i=0;i<show_arr.length;i++){
               for(var j=1;j<prob_num;j++){
                   if(g==curr_group_continue) continue;
                   if(prob_num!=6 && j!=prob_num) continue;
                   var inst_path='';
                   if(g==0 && i<user_arrA.length){inst_path='../'+group_arr[0]+'/'+user_arrA[i]+'/'+project_name+'/'+problem_name+j+'/'+j+'.PNG';}
                   if(g==1 && i-user_arrA.length<user_arrB.length){inst_path='../'+group_arr[1]+'/'+user_arrB[i+user_arrA.length]+'/'+project_name+'/'+problem_name+j+'/'+j+'.PNG';}
                   var y = document.createElement("div");
                   y.setAttribute("style", "text-align: center;");
                   y.setAttribute("class", "item");
                   var x = document.createElement("img");
                   x.setAttribute("src", inst_path);
                    x.setAttribute("height", "200");
                    x.setAttribute("id", show_arr[i] + "#Problem" + j);
                    var z = document.createElement("div");
                    z.innerHTML = show_arr[i] + "#Problem" + j;
                    z.setAttribute("style", "align:center;");
                    y.appendChild(x);
                    y.appendChild(z);
                    document.getElementById('next').appendChild(y);
                }
            }
        }
        addGlyphicon(clickEvent);
   }*/
</script>-->
